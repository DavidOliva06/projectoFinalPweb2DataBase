<!-- Archivo: src/app/layouts/main-layout/main-layout.html -->

<div class="flex flex-col min-h-screen bg-gray-100 font-sans text-gray-800">
  <!-- MI CABECERA -->
  <header class="bg-white shadow-md sticky top-0 z-50">
    <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
      <a routerLink="/" class="text-2xl font-bold text-indigo-600 hover:text-indigo-700 transition-colors">
        TorneoPro
      </a>
      
      <div class="flex items-center space-x-4">
        <a routerLink="/" class="text-gray-600 hover:text-indigo-600">Inicio</a>
        <a routerLink="/fixture" class="text-gray-600 hover:text-indigo-600">Fixture</a>
        <a routerLink="/teams" class="text-gray-600 hover:text-indigo-600">Equipos</a>

        <div class="pl-4 border-l border-gray-200 flex items-center space-x-2">
            <!-- SECCIÓN PARA USUARIOS NO AUTENTICADOS -->
            <ng-container *ngIf="!isAuthenticated">
              <a routerLink="/login" class="px-4 py-2 text-sm font-medium rounded-md hover:bg-gray-200 transition-colors">Iniciar Sesión</a>
              <a routerLink="/registro" class="px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors">Registrarse</a>
            </ng-container>

            <!-- SECCIÓN PARA USUARIOS AUTENTICADOS -->
            <ng-container *ngIf="isAuthenticated">
              <!-- --- ¡NUEVO ENLACE AÑADIDO! --- -->
              <!-- Este enlace lleva al formulario de registro de jugador. -->
              <a routerLink="/registrar-jugador" 
                 class="flex items-center gap-x-2 px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 transition-colors">
                <!-- Ícono opcional para hacerlo más visual -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                </svg>
                Inscribir Jugador
              </a>
              
              <button (click)="logout()" class="px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 transition-colors">
                Cerrar Sesión
              </button>
            </ng-container>
        </div>
      </div>
    </nav>
  </header>

  <!-- Contenido Principal -->
  <main class="flex-grow container mx-auto p-6">
    <router-outlet></router-outlet>
  </main>

  <!-- Pie de Página -->
  <footer class="bg-gray-800 text-white text-center p-4 mt-auto">
    <p class="text-sm">© 2025 FixtureUNSA. Todos los derechos reservados.</p>
  </footer>
</div>